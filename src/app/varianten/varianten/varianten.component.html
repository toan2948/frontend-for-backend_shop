<div class="w-full">
  <div class="flex-grow flex-row justify-items-center">
      <div *ngFor = "let cat of categories">
        <mat-form-field class="example-chip-list" appearance="fill">
          <mat-label>{{cat.code}} values</mat-label>
          <mat-chip-list #chipList aria-label="Option Value selection">
            <mat-chip
              *ngFor="let value of cat.values"
              [removable]="removable"
              (removed)="removeValue(cat, value)">
              {{value}}
              <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
            </mat-chip>
            <input
              placeholder="{{cat.code}}"
              [matChipInputAddOnBlur] = "addOnBlur"
              [matChipInputFor]="chipList"
              [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
              (matChipInputTokenEnd)="addValue(cat, $event)">
          </mat-chip-list>
        </mat-form-field>
        <button (click)="removeCategory(cat)">x</button>
      </div>

      <div class="add-new-category">
        <form (ngSubmit)="addCategory()">
          <input placeholder="Name of Category" [formControl] ="codeValue" >
          <button class="bg-green-500">Add a category</button>
        </form>
      </div>

      <br>
      <br>
      <button (click)="runGetProductVariants()">Show Variants</button>
      <br>
      <button class="bg-blend-darken mr-1" (click)="runGetProductOptionValues()">get Option Values</button>
      <br>
      <button class="bg-[#0f0] mr-1" (click)="showArrayOfOptionValues()">show Option Values</button>
      <br>

    <div class="border-2">
      <!--      variant form-->
      <form [formGroup]="variantArrayForm" (ngSubmit) = "submitVariantArray()">
        <table>
          <thead>
          <tr>
            <th>Varianten</th>
            <th>Preis</th>
            <th>Sale Presi</th>
            <th>QR_code</th>
          </tr>
          </thead>
          <tbody>
<!--          <tr *ngFor ="let selectedSizeValue of selectedOptionValues; let y = index" >-->
          <tr>
          <div id="array_variant" formArrayName="variant" >
            <div *ngFor="let variant of variant.controls; let i= index" >
<!--              variant here is the function variant() in varianten.component.ts-->
              <div [formGroupName] ="i">
                <th>
                  <section>
                    <input type="checkbox" [checked]="flagCheckbox[i]" (change)="changeCheckboxOption($event, i)" [value] = "selectedOptionValues[i]" > {{selectedOptionValues[i]}}
                  </section>
                </th>
                <div *ngIf ="flagCheckbox[i]">
<!--                  [ngModelOptions]="{standalone: true} help to connect the template and component-->
                  <input type="radio" [name]="'preis' + i" [disabled]="disableStatusCheckboxPreis[i]" [checked]="checkStatusCheckboxPreis[i]" (change)="changeCheckboxPreis($event, i)" [value]="preis[i]" > <input type="text" [(ngModel)] = "preis[i]" [ngModelOptions]="{standalone: true}" (keyup)="getPreis($event, i)"   />
                  <input type="radio" [name]="'preis' + i" [disabled]="disableStatusCheckboxSalePreis[i]" [checked]="checkStatusCheckboxSalePreis[i]" (change)="changeCheckboxSalePreis($event, i)" [value]="salePreis[i]" > <input [(ngModel)] = "salePreis[i]" [ngModelOptions]="{standalone: true}" type="text" (keyup)="getSalePreis($event, i)"/>
<!--                  <th><input type="radio" [checked]="checkStatusCheckboxPreis[i]" name="'preis'+{{i}}" value="{{preis2.value}}" (change)="changeRadioButtonPreis($event, i)" ><input type="text" #preis2 /></th>-->
<!--                  <th><input type="radio" [checked]="checkStatusCheckboxSalePreis[i]" name="'sale_preis'+{{i}}" value="{{sale_preis2.value}}"  ><input type="text" #sale_preis2 formControlName ="sale_preis2"/></th>-->
                </div>
              </div>
            </div>
          </div>
            <p>Form value: {{ variantArrayForm.value | json }}</p>

          </tr>
          </tbody>
        </table>
        <button class="bg-[rgba(123,123,123,0.5)]" >save Variants</button>
      </form>
    </div>







